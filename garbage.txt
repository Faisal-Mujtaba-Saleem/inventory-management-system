
def listItemsFromMinToMaxQty(request, min_qty, max_qty):
    try:
        items_from_min_to_max_qty = Item.objects.filter(
            stock__qty_in_stock__gte=min_qty,
            stock__qty_in_stock__lte=max_qty
        ).order_by('stock__qty_in_stock')

        items_from_min_to_max_qty = json.loads(
            serialize(
                'json', items_from_min_to_max_qty
            )
        )

        return JsonResponse(
            {
                "message": f"Successfully retrieved all stocks between quantity {min_qty} and {max_qty}",
                "stocks_count": len(items_from_min_to_max_qty),
                "Items": items_from_min_to_max_qty
            }
        )

    except Exception as e:
        return JsonResponse(
            {
                "error": str(e)
            },
            status=500
        )


def listItemsFromMaxToMinQty(request, max_qty, min_qty):
    try:
        items_from_max_to_min_qty = Item.objects.filter(
            stock__qty_in_stock__lte=max_qty,
            stock__qty_in_stock__gte=min_qty
        ).order_by('-stock__qty_in_stock')

        items_from_max_to_min_qty = json.loads(
            serialize(
                'json', items_from_max_to_min_qty
            )
        )

        return JsonResponse(
            {
                "message": f"Successfully retrieved all stocks between quantity {min_qty} and {max_qty}",
                "stocks_count": len(items_from_max_to_min_qty),
                "Items": items_from_max_to_min_qty
            }
        )

    except Exception as e:
        return JsonResponse(
            {
                "error": str(e)
            },
            status=500
        )


    Search Items Code.

        print(items)

        # items = Item.objects.all()

        # list1 = []

        # if name:
        #     for item in items:
        #         a = item.name
        #         name2 = name

        #         if name2 == a:
        #             list1.append(item)

        # if sku:
        #     for item in items:
        #         a = item.sku

        #         if sku == a:
        #             list1.append(item)

        # if category:
        #     for item in items:
        #         if category == item.category.name:
        #             list1.append(item)

        # if sub_category:
        #     for item in items:
        #         if sub_category == item.sub_category:
        #             list1.append(item)

        # if price:
        #     for item in items:
        #         a = int(item.price)
        #         price2 = int(price)
        #         if price2 == a:
        #             list1.append(item)
